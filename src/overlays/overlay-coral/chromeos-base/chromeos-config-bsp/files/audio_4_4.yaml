#
# Copyright 2018 The ChromiumOS Authors
#
# Use of this source code is governed by a BSD-style license that can be
# found in the LICENSE file.

audio-common: &audio_common
  $cras-root: "/etc/cras"
  $ucm-root: "/usr/share/alsa/ucm"
  $card: "bxtda7219max"
  # Both source/target path for cras files.
  # Generally set to device name or 'common'
  $cras: "{{$device-name}}"
  $ucm: "1mic" # Default
  $ucm-device: "common"
  $ucm-target-suffix: ""
  $ucm-suffix-path: "/{{$ucm}}"
  cras-config-dir: "{{$cras}}"
  ucm-suffix: "{{$ucm}}{{$ucm-target-suffix}}"
  $cras-source: "{{cras-config-dir}}/audio/cras-config"
  $cras-dest: "{{$cras-root}}/{{cras-config-dir}}"
  $ucm-source: "{{$ucm-device}}/audio/ucm-config{{$ucm-suffix-path}}"
  $ucm-dest: "{{$ucm-root}}/{{$card}}.{{ucm-suffix}}"
  files:
    - source: "{{$cras-source}}/{{$card}}"
      destination: "{{$cras-dest}}/{{$card}}"
    - source: "{{$cras-source}}/dsp.ini"
      destination: "{{$cras-dest}}/dsp.ini"
    - source: "{{$ucm-source}}/HiFi"
      destination: "{{$ucm-dest}}/HiFi"
    - source: "{{$ucm-source}}/{{$card}}.conf"
      destination: "{{$ucm-dest}}/{{$card}}.{{ucm-suffix}}.conf"
