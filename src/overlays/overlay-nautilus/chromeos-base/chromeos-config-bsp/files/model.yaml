# Copyright 2021 The ChromiumOS Authors
# Use of this source code is governed by a BSD-style license that can be
# found in the LICENSE file.

identity_common: &identity_common
  platform-name: "Poppy"
  frid: "Google_Nautilus"

camera_config_ufc_wfc: &camera_config_ufc_wfc
  count: 2
  devices:
    - interface: "usb"
      facing: "front"
      orientation: 0
      flags:
        support-autofocus : False
        support-1080p: False
    - interface: "mipi"
      facing: "back"
      orientation: 0
      flags:
        support-autofocus : True
        support-1080p: True

base_config: &base_config
  brand-code: "{{$brand-code}}"
  name: "{{$device-name}}"
  firmware:
    build-targets:
      bmpblk: "nautilus"
      coreboot: "nautilus"
      ec: "nautilus"
      depthcharge: "nautilus"
      libpayload: "nautilus"
    image-name: "{{$device-name}}"
  hardware-properties:
    form-factor: CONVERTIBLE
  identity:
    <<: *identity_common
    sku-id: "{{$sku-id}}"
  camera:
    <<: *camera_config_ufc_wfc
  wallpaper: "nautilus"
  ui:
    side-volume-button:
      region: "keyboard"
      side: "right"

chromeos:
  devices:
    - $device-name: "nautilus"
      products:
        - $marketing-name: "nautilus"
          $brand-code: "ZSKM"
      skus:
        - $sku-id: 0
          config: *base_config
    - $device-name: "nautiluslte"
      products:
        - $marketing-name: "nautiluslte"
          $brand-code: "SMAL"
      skus:
        - $sku-id: 1
          config: *base_config
          modem:
            firmware-variant: "{{$device-name}}"
    # Older RO firmware may not expose a SKU ID in SMBIOS.  Explicitly
    # declare a config which allows for this condition.
    - $device-name: "nautilus"
      products:
        - $marketing-name: "nautilus"
          $brand-code: "ZSKM"
      skus:
        - config:
            <<: *base_config
            identity: *identity_common
